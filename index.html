<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SKYW LSä¸“é¡¹åŸºé‡‘æŠ•èµ„å›æŠ¥æµ‹ç®—ç³»ç»Ÿ</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .input-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
        
        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: #555;
            margin-bottom: 8px;
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .input-suffix {
            position: relative;
        }
        
        .input-suffix input {
            padding-right: 70px;
        }
        
        .input-suffix::after {
            content: attr(data-suffix);
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
            font-size: 14px;
        }
        
        .calculate-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            margin-top: 20px;
        }
        
        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .results-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 968px) {
            .results-container {
                grid-template-columns: 1fr;
            }
        }
        
        .result-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #e0e0e0;
        }
        
        .result-card-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .discount-badge {
            display: inline-block;
            padding: 4px 10px;
            background: #667eea;
            color: white;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .result-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .result-row:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .result-label {
            font-size: 14px;
            color: #666;
        }
        
        .result-value {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }
        
        .result-value.highlight {
            color: #667eea;
            font-size: 22px;
        }
        
        .result-value.positive {
            color: #10b981;
        }
        
        .result-value.negative {
            color: #ef4444;
        }
        
        .breakdown-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-top: 15px;
        }
        
        .breakdown-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
        }
        
        .breakdown-item {
            background: white;
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid #667eea;
        }
        
        .breakdown-item-header {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .breakdown-item-detail {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
        
        .tier-badge {
            display: inline-block;
            padding: 2px 8px;
            background: #667eea;
            color: white;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .info-box {
            background: #e0e7ff;
            border-left: 4px solid #667eea;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .info-box-title {
            font-size: 14px;
            font-weight: 600;
            color: #4338ca;
            margin-bottom: 8px;
        }
        
        .info-box-content {
            font-size: 13px;
            color: #4338ca;
            line-height: 1.6;
        }
        
        .comparison-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        function FundCalculator() {
            const [inputs, setInputs] = useState({
                investment: 1000000, // æŠ•èµ„äººæŠ•å…¥ï¼ˆæ¸¯å…ƒï¼‰
                investmentYears: 2, // æŠ•èµ„æœŸé™ï¼ˆå¹´ï¼‰
                fundSize: 60000000, // åŸºé‡‘æ€»è§„æ¨¡ï¼ˆæ¸¯å…ƒï¼‰
                initialMarketCap: 200000000, // åˆå§‹è‚¡ç¥¨å¸‚å€¼ï¼ˆæ¸¯å…ƒï¼‰
                finalMarketCap: 5000000000, // é€€å‡ºæ—¶è‚¡ç¥¨å¸‚å€¼ï¼ˆæ¸¯å…ƒï¼‰
                discount: 10, // å¤§å®—è½¬è®©æŠ˜è®©ï¼ˆ%ï¼‰
                investorType: 'individual' // æŠ•èµ„è€…ç±»å‹
            });

            const [results, setResults] = useState(null);

            const handleInputChange = (field, value) => {
                setInputs(prev => ({
                    ...prev,
                    [field]: field === 'investorType' ? value : (parseFloat(value) || 0)
                }));
            };

            const calculate = () => {
                const { investment, investmentYears, fundSize, initialMarketCap, finalMarketCap, discount, investorType } = inputs;
                
                // 1. æ‰£é™¤ç®¡ç†è´¹ï¼ˆæ¯å¹´2%ï¼ŒæŠ•èµ„æ—¶é¢„æ‰£ï¼‰
                const annualManagementFee = 0.02;
                const totalManagementFeeRate = annualManagementFee * investmentYears;
                const managementFee = investment * totalManagementFeeRate;
                const netInvestment = investment - managementFee;
                
                // 2. è®¤è´­åŸºé‡‘ä»½é¢ï¼ˆåˆå§‹å‡€å€¼=1ï¼‰
                const initialNav = 1;
                const shares = netInvestment / initialNav;
                
                // 3. è®¡ç®—è‚¡ç¥¨å¢å€¼å€æ•°
                const stockMultiple = finalMarketCap / initialMarketCap;
                
                // 4. è®¡ç®—æ–°çš„åŸºé‡‘å‡€èµ„äº§
                const newFundAssets = fundSize * stockMultiple;
                
                // 5. è®¡ç®—æ–°çš„åŸºé‡‘å‡€å€¼ï¼ˆå‡è®¾æ€»ä»½é¢ä¸å˜ï¼‰
                const totalShares = fundSize / initialNav;
                const newNav = newFundAssets / totalShares;
                
                // 6. è®¡ç®—æŠ•èµ„è€…è´¦æˆ·ä»·å€¼
                const accountValue = shares * newNav;
                
                // è®¡ç®—æ— æŠ˜è®©å’Œæœ‰æŠ˜è®©ä¸¤ç§æƒ…å†µ
                const noDiscountResult = calculateWithDiscount(investment, accountValue, 0, investorType, investmentYears);
                const withDiscountResult = calculateWithDiscount(investment, accountValue, discount, investorType, investmentYears);
                
                setResults({
                    managementFee,
                    netInvestment,
                    shares,
                    initialNav,
                    stockMultiple,
                    newNav,
                    accountValue,
                    noDiscount: noDiscountResult,
                    withDiscount: withDiscountResult
                });
            };

            const calculateWithDiscount = (principal, accountValue, discountRate, investorType, years) => {
                // 1. åº”ç”¨å¤§å®—è½¬è®©æŠ˜è®©
                const discountAmount = accountValue * (discountRate / 100);
                const afterDiscountValue = accountValue - discountAmount;
                
                // 2. è®¡ç®—æ€»æ”¶ç›Š
                const grossProfit = afterDiscountValue - principal;
                
                // 3. ç´¯è®¡å›æŠ¥ç‡
                const cumulativeReturn = (grossProfit / principal) * 100;
                
                // 4. è®¡ç®—ä¸šç»©æŠ¥é…¬ï¼ˆç´¯è¿›åˆ†æ®µï¼‰
                const performanceFee = calculatePerformanceFee(principal, grossProfit, years);
                
                // 5. æ‰£é™¤ä¸šç»©æŠ¥é…¬åçš„å‡€æ”¶ç›Š
                const netProfitAfterPerformance = grossProfit - performanceFee.total;
                
                // 6. è®¡ç®—æŠ•èµ„è€…å±‚é¢ç¨æ”¶
                const investorTax = calculateInvestorTax(netProfitAfterPerformance, investorType);
                
                // 7. æœ€ç»ˆåˆ°æ‰‹é‡‘é¢
                const finalAmount = principal + netProfitAfterPerformance - investorTax.totalTax;
                const finalProfit = finalAmount - principal;
                
                // 8. å®é™…å¹´åŒ–å›æŠ¥ç‡
                const actualAnnualReturn = years > 0 ? (Math.pow(finalAmount / principal, 1 / years) - 1) * 100 : 0;
                
                return {
                    discountAmount,
                    afterDiscountValue,
                    grossProfit,
                    cumulativeReturn,
                    performanceFee,
                    netProfitAfterPerformance,
                    investorTax,
                    finalAmount,
                    finalProfit,
                    actualAnnualReturn
                };
            };

            const calculatePerformanceFee = (principal, totalProfit, years) => {
                const breakdown = [];
                let remainingProfit = totalProfit;
                let totalFee = 0;
                
                if (totalProfit <= 0) {
                    return { total: 0, breakdown: [] };
                }
                
                // ç¬¬ä¸€æ¡£ï¼š0 â†’ å¹´åŒ–8%é—¨æ§›ï¼ˆæŠ•èµ„è€…100%ï¼‰
                const threshold8Percent = principal * (Math.pow(1.08, years) - 1);
                if (remainingProfit > 0 && threshold8Percent > 0) {
                    const tier1Profit = Math.min(remainingProfit, threshold8Percent);
                    breakdown.push({
                        tier: "ç¬¬ä¸€æ¡£",
                        description: "0 â†’ å¹´åŒ–8%",
                        profit: tier1Profit,
                        managerShare: 0,
                        managerAmount: 0
                    });
                    remainingProfit -= tier1Profit;
                }
                
                // ç¬¬äºŒæ¡£ï¼šå¹´åŒ–8% â†’ ç´¯è®¡å›æŠ¥100%ï¼ˆç®¡ç†äºº20%ï¼‰
                const threshold100Percent = principal * 1; // ç´¯è®¡å›æŠ¥100%
                const tier2Upper = Math.max(0, threshold100Percent - threshold8Percent);
                if (remainingProfit > 0 && tier2Upper > 0) {
                    const tier2Profit = Math.min(remainingProfit, tier2Upper);
                    const managerAmount = tier2Profit * 0.20;
                    breakdown.push({
                        tier: "ç¬¬äºŒæ¡£",
                        description: "å¹´åŒ–8% â†’ å›æŠ¥100%",
                        profit: tier2Profit,
                        managerShare: 20,
                        managerAmount: managerAmount
                    });
                    remainingProfit -= tier2Profit;
                    totalFee += managerAmount;
                }
                
                // ç¬¬ä¸‰æ¡£ï¼šç´¯è®¡å›æŠ¥100% â†’ 400%ï¼ˆç®¡ç†äºº40%ï¼‰
                const threshold400Percent = principal * 4;
                const tier3Upper = Math.max(0, threshold400Percent - threshold100Percent);
                if (remainingProfit > 0 && tier3Upper > 0) {
                    const tier3Profit = Math.min(remainingProfit, tier3Upper);
                    const managerAmount = tier3Profit * 0.40;
                    breakdown.push({
                        tier: "ç¬¬ä¸‰æ¡£",
                        description: "å›æŠ¥100% â†’ 400%",
                        profit: tier3Profit,
                        managerShare: 40,
                        managerAmount: managerAmount
                    });
                    remainingProfit -= tier3Profit;
                    totalFee += managerAmount;
                }
                
                // ç¬¬å››æ¡£ï¼šç´¯è®¡å›æŠ¥>400%ï¼ˆç®¡ç†äºº50%ï¼‰
                if (remainingProfit > 0) {
                    const managerAmount = remainingProfit * 0.50;
                    breakdown.push({
                        tier: "ç¬¬å››æ¡£",
                        description: "å›æŠ¥ > 400%",
                        profit: remainingProfit,
                        managerShare: 50,
                        managerAmount: managerAmount
                    });
                    totalFee += managerAmount;
                }
                
                return {
                    total: totalFee,
                    breakdown: breakdown
                };
            };

            const calculateInvestorTax = (profit, investorType) => {
                if (profit <= 0) {
                    return { totalTax: 0, breakdown: [] };
                }
                
                const breakdown = [];
                let totalTax = 0;
                
                if (investorType === 'individual') {
                    // ä¸ªäººæŠ•èµ„è€…ï¼šå¯¹å…¨éƒ¨æ”¶ç›Šå¾æ”¶16.5%åˆ©å¾—ç¨
                    const tax = profit * 0.165;
                    breakdown.push({
                        type: 'ä¸ªäººåˆ©å¾—ç¨',
                        rate: 16.5,
                        taxableAmount: profit,
                        tax: tax,
                        note: 'é¦™æ¸¯ä¸ªäººæŠ•èµ„è€…æ”¶ç›Šéœ€ç¼´çº³16.5%åˆ©å¾—ç¨'
                    });
                    totalTax = tax;
                } else {
                    // å…¬å¸æŠ•èµ„è€…ï¼šä¸¤çº§åˆ¶åˆ©å¾—ç¨
                    // é¦–200ä¸‡åˆ©æ¶¦ï¼š8.25%
                    // è¶…è¿‡200ä¸‡éƒ¨åˆ†ï¼š16.5%
                    const tier1Limit = 2000000;
                    
                    if (profit <= tier1Limit) {
                        const tax = profit * 0.0825;
                        breakdown.push({
                            type: 'ä¼ä¸šåˆ©å¾—ç¨ï¼ˆé¦–200ä¸‡ï¼‰',
                            rate: 8.25,
                            taxableAmount: profit,
                            tax: tax
                        });
                        totalTax = tax;
                    } else {
                        const tier1Tax = tier1Limit * 0.0825;
                        const tier2Amount = profit - tier1Limit;
                        const tier2Tax = tier2Amount * 0.165;
                        
                        breakdown.push({
                            type: 'ä¼ä¸šåˆ©å¾—ç¨ï¼ˆé¦–200ä¸‡ï¼‰',
                            rate: 8.25,
                            taxableAmount: tier1Limit,
                            tax: tier1Tax
                        });
                        breakdown.push({
                            type: 'ä¼ä¸šåˆ©å¾—ç¨ï¼ˆè¶…200ä¸‡éƒ¨åˆ†ï¼‰',
                            rate: 16.5,
                            taxableAmount: tier2Amount,
                            tax: tier2Tax
                        });
                        totalTax = tier1Tax + tier2Tax;
                    }
                }
                
                return {
                    totalTax,
                    breakdown
                };
            };

            const formatCurrency = (value) => {
                if (value >= 100000000) {
                    return (value / 100000000).toFixed(2) + ' äº¿';
                } else if (value >= 10000) {
                    return (value / 10000).toFixed(2) + ' ä¸‡';
                }
                return new Intl.NumberFormat('zh-HK', {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                }).format(value);
            };

            const renderResult = (result, title, badge) => {
                return (
                    <div className="result-card">
                        <div className="result-card-title">
                            {title} {badge && <span className="discount-badge">{badge}</span>}
                        </div>
                        
                        <div className="result-row">
                            <span className="result-label">é€€å‡ºæ—¶è´¦æˆ·ä»·å€¼</span>
                            <span className="result-value positive">{formatCurrency(result.afterDiscountValue + result.discountAmount)} æ¸¯å…ƒ</span>
                        </div>
                        {result.discountAmount > 0 && (
                            <div className="result-row">
                                <span className="result-label">å¤§å®—è½¬è®©æŠ˜è®©</span>
                                <span className="result-value negative">-{formatCurrency(result.discountAmount)} æ¸¯å…ƒ</span>
                            </div>
                        )}
                        <div className="result-row">
                            <span className="result-label">æ‰£æŠ˜è®©åä»·å€¼</span>
                            <span className="result-value">{formatCurrency(result.afterDiscountValue)} æ¸¯å…ƒ</span>
                        </div>
                        <div className="result-row">
                            <span className="result-label">æ€»æ”¶ç›Š</span>
                            <span className="result-value positive">{formatCurrency(result.grossProfit)} æ¸¯å…ƒ</span>
                        </div>
                        <div className="result-row">
                            <span className="result-label">ç´¯è®¡å›æŠ¥ç‡</span>
                            <span className="result-value positive">{result.cumulativeReturn.toFixed(2)}%</span>
                        </div>
                        <div className="result-row">
                            <span className="result-label">ä¸šç»©æŠ¥é…¬ï¼ˆç®¡ç†äººï¼‰</span>
                            <span className="result-value negative">-{formatCurrency(result.performanceFee.total)} æ¸¯å…ƒ</span>
                        </div>
                        <div className="result-row">
                            <span className="result-label">æŠ•èµ„è€…åˆ©å¾—ç¨</span>
                            <span className="result-value negative">-{formatCurrency(result.investorTax.totalTax)} æ¸¯å…ƒ</span>
                        </div>
                        <div className="result-row">
                            <span className="result-label">ğŸ’° æœ€ç»ˆåˆ°æ‰‹é‡‘é¢</span>
                            <span className="result-value highlight">{formatCurrency(result.finalAmount)} æ¸¯å…ƒ</span>
                        </div>
                        <div className="result-row">
                            <span className="result-label">âœ¨ å‡€æ”¶ç›Š</span>
                            <span className="result-value highlight">{formatCurrency(result.finalProfit)} æ¸¯å…ƒ</span>
                        </div>
                        <div className="result-row">
                            <span className="result-label">å®é™…å¹´åŒ–å›æŠ¥</span>
                            <span className="result-value positive">{result.actualAnnualReturn.toFixed(2)}%</span>
                        </div>
                        
                        {/* ä¸šç»©æŠ¥é…¬æ‹†è§£ */}
                        {result.performanceFee.breakdown.length > 0 && (
                            <div className="breakdown-section">
                                <div className="breakdown-title">ä¸šç»©æŠ¥é…¬æ‹†è§£</div>
                                {result.performanceFee.breakdown.map((item, index) => (
                                    <div key={index} className="breakdown-item">
                                        <div className="breakdown-item-header">
                                            <span><span className="tier-badge">{item.tier}</span> {item.description}</span>
                                            <span>{formatCurrency(item.managerAmount)} æ¸¯å…ƒ</span>
                                        </div>
                                        <div className="breakdown-item-detail">
                                            æ”¶ç›Šï¼š{formatCurrency(item.profit)} | ç®¡ç†äºº{item.managerShare}%
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                        
                        {/* æŠ•èµ„è€…ç¨æ”¶æ‹†è§£ */}
                        {result.investorTax.breakdown.length > 0 && (
                            <div className="breakdown-section">
                                <div className="breakdown-title">æŠ•èµ„è€…åˆ©å¾—ç¨æ‹†è§£</div>
                                {result.investorTax.breakdown.map((item, index) => (
                                    <div key={index} className="breakdown-item">
                                        <div className="breakdown-item-header">
                                            <span>{item.type} {item.rate > 0 && `(${item.rate}%)`}</span>
                                            <span>{formatCurrency(item.tax)} æ¸¯å…ƒ</span>
                                        </div>
                                        {item.note && (
                                            <div className="breakdown-item-detail">{item.note}</div>
                                        )}
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>
                );
            };

            return (
                <div className="container">
                    <div className="header">
                        <h1>ğŸ¦ SKYW LS ä¸“é¡¹åŸºé‡‘æŠ•èµ„å›æŠ¥æµ‹ç®—</h1>
                        <p>é¦™æ¸¯æ–°èƒ½æºæ•°å­—èµ„äº§ä¸Šå¸‚å…¬å¸æˆé•¿åŸºé‡‘ - é¾™è…¾è®¡åˆ’ä¸“é¡¹æŠ•èµ„æ”¶ç›Šè®¡ç®—å™¨</p>
                    </div>

                    <div className="content">
                        {/* è¾“å…¥åŒºåŸŸ */}
                        <div className="input-section">
                            <h2 className="section-title">ğŸ“ æŠ•èµ„å‚æ•°</h2>
                            
                            <div className="input-grid">
                                <div className="form-group">
                                    <label>æŠ•èµ„é‡‘é¢</label>
                                    <div className="input-suffix" data-suffix="æ¸¯å…ƒ">
                                        <input
                                            type="number"
                                            value={inputs.investment}
                                            onChange={(e) => handleInputChange('investment', e.target.value)}
                                        />
                                    </div>
                                </div>

                                <div className="form-group">
                                    <label>æŠ•èµ„æœŸé™</label>
                                    <div className="input-suffix" data-suffix="å¹´">
                                        <input
                                            type="number"
                                            value={inputs.investmentYears}
                                            onChange={(e) => handleInputChange('investmentYears', e.target.value)}
                                            step="0.5"
                                            min="0.5"
                                        />
                                    </div>
                                </div>

                                <div className="form-group">
                                    <label>åŸºé‡‘æ€»è§„æ¨¡</label>
                                    <div className="input-suffix" data-suffix="æ¸¯å…ƒ">
                                        <input
                                            type="number"
                                            value={inputs.fundSize}
                                            onChange={(e) => handleInputChange('fundSize', e.target.value)}
                                        />
                                    </div>
                                </div>

                                <div className="form-group">
                                    <label>æŠ•èµ„è€…ç±»å‹</label>
                                    <select 
                                        value={inputs.investorType}
                                        onChange={(e) => handleInputChange('investorType', e.target.value)}
                                    >
                                        <option value="individual">ä¸ªäººæŠ•èµ„è€…</option>
                                        <option value="company">å…¬å¸æŠ•èµ„è€…</option>
                                    </select>
                                </div>
                            </div>

                            <h2 className="section-title" style={{marginTop: '30px'}}>ğŸ“ˆ è‚¡ç¥¨å¸‚å€¼å˜åŒ–</h2>
                            
                            <div className="input-grid">
                                <div className="form-group">
                                    <label>æŠ•èµ„æ—¶è‚¡ç¥¨å¸‚å€¼</label>
                                    <div className="input-suffix" data-suffix="æ¸¯å…ƒ">
                                        <input
                                            type="number"
                                            value={inputs.initialMarketCap}
                                            onChange={(e) => handleInputChange('initialMarketCap', e.target.value)}
                                        />
                                    </div>
                                </div>

                                <div className="form-group">
                                    <label>é€€å‡ºæ—¶è‚¡ç¥¨å¸‚å€¼</label>
                                    <div className="input-suffix" data-suffix="æ¸¯å…ƒ">
                                        <input
                                            type="number"
                                            value={inputs.finalMarketCap}
                                            onChange={(e) => handleInputChange('finalMarketCap', e.target.value)}
                                        />
                                    </div>
                                </div>

                                <div className="form-group">
                                    <label>å¤§å®—è½¬è®©æŠ˜è®©</label>
                                    <div className="input-suffix" data-suffix="%">
                                        <input
                                            type="number"
                                            value={inputs.discount}
                                            onChange={(e) => handleInputChange('discount', e.target.value)}
                                            step="0.5"
                                            min="0"
                                        />
                                    </div>
                                </div>
                            </div>

                            <button className="calculate-btn" onClick={calculate}>
                                ğŸ§® è®¡ç®—æ”¶ç›Š
                            </button>

                            <div className="info-box">
                                <div className="info-box-title">ğŸ’¡ è®¡ç®—è¯´æ˜</div>
                                <div className="info-box-content">
                                    <p>â€¢ ç®¡ç†è´¹ï¼šæ¯å¹´2%ï¼ŒæŠ•èµ„æ—¶é¢„æ‰£ï¼ˆå¦‚æŠ•2å¹´æ‰£4%ï¼‰</p>
                                    <p>â€¢ åŸºé‡‘åˆå§‹å‡€å€¼ï¼š1æ¸¯å…ƒ</p>
                                    <p>â€¢ åŸºé‡‘å±‚é¢ï¼šOFCäº«å—åˆ©å¾—ç¨è±å…ï¼Œä¸å¾ç¨</p>
                                    <p>â€¢ æŠ•èµ„è€…å±‚é¢ï¼šä¸ªäºº16.5% / å…¬å¸ä¸¤çº§åˆ¶</p>
                                    <p>â€¢ ä¸šç»©æŠ¥é…¬ï¼šç´¯è¿›åˆ†æ®µè®¡ç®—</p>
                                </div>
                            </div>

                            <div className="info-box" style={{marginTop: '15px', background: '#fef3c7', borderColor: '#f59e0b'}}>
                                <div className="info-box-title" style={{color: '#92400e'}}>ğŸ¯ é¾™è…¾è®¡åˆ’å¸‚å€¼è·¯çº¿å›¾</div>
                                <div className="info-box-content" style={{color: '#92400e'}}>
                                    <p><strong>å¯åŠ¨é˜¶æ®µï¼ˆ0-2ä¸ªæœˆï¼‰ï¼š</strong></p>
                                    <p>â€¢ å½“å‰å¸‚å€¼ï¼š4.69äº¿æ¸¯å…ƒ</p>
                                    <p>â€¢ å®Œæˆèèµ„ï¼š5000-8000ä¸‡æ¸¯å…ƒ</p>
                                    <p></p>
                                    <p><strong>ç¬¬ä¸€å¹´ç›®æ ‡ï¼ˆ12ä¸ªæœˆï¼‰ï¼š</strong></p>
                                    <p>â€¢ å¸‚å€¼çªç ´ï¼š50äº¿æ¸¯å…ƒï¼ˆå¢é•¿çº¦10å€ï¼‰</p>
                                    <p>â€¢ è‚¡ç¥¨å¸‚å€¼ä»2äº¿æ¶¨åˆ°50äº¿ï¼ˆ25å€ï¼‰</p>
                                    <p>â€¢ å¹´æ”¶å…¥ï¼š8-10äº¿æ¸¯å…ƒ</p>
                                    <p>â€¢ EBITDAç‡ï¼š25%</p>
                                    <p></p>
                                    <p><strong>ç¬¬äºŒå¹´ç›®æ ‡ï¼ˆ24ä¸ªæœˆï¼‰ï¼š</strong></p>
                                    <p>â€¢ å¸‚å€¼ç¨³å®šï¼š70-120äº¿æ¸¯å…ƒ</p>
                                    <p>â€¢ å¹´æ”¶å…¥ï¼š15äº¿æ¸¯å…ƒ</p>
                                    <p>â€¢ çº³å…¥æ¸¯è‚¡é€šï¼Œè·å¾—å†…åœ°èµ„é‡‘é…ç½®</p>
                                </div>
                            </div>

                            <div className="info-box" style={{marginTop: '15px', background: '#dcfce7', borderColor: '#10b981'}}>
                                <div className="info-box-title" style={{color: '#065f46'}}>ğŸ“… æŠ•èµ„äººæ»¡ä¸€å¹´èµå›å‚è€ƒ</div>
                                <div className="info-box-content" style={{color: '#065f46'}}>
                                    <p><strong>åŸºå‡†æƒ…æ™¯ï¼š</strong>å¸‚å€¼è¾¾50äº¿æ¸¯å…ƒ</p>
                                    <p>â€¢ è‚¡ç¥¨ä»2äº¿æ¶¨åˆ°50äº¿ï¼ˆ25å€ï¼‰</p>
                                    <p>â€¢ åŸºé‡‘å‡€å€¼ä»1æ¶¨åˆ°25</p>
                                    <p>â€¢ æŠ•100ä¸‡ â†’ è´¦æˆ·ä»·å€¼çº¦2450ä¸‡</p>
                                    <p>â€¢ æ‰£è´¹æ‰£ç¨åé¢„è®¡å‡€æ”¶ç›Šï¼š12-18å€</p>
                                    <p></p>
                                    <p><strong>ä¹è§‚æƒ…æ™¯ï¼š</strong>å¸‚å€¼è¾¾80äº¿æ¸¯å…ƒ</p>
                                    <p>â€¢ åŸºé‡‘å‡€å€¼çº¦40</p>
                                    <p>â€¢ æŠ•100ä¸‡ â†’ é¢„è®¡å‡€æ”¶ç›Šå¯è¾¾25-35å€</p>
                                    <p></p>
                                    <p><strong>å»ºè®®èµå›æ—¶ç‚¹ï¼š</strong></p>
                                    <p>â€¢ æ»¡1å¹´åï¼ˆè¾¾åˆ°ç¬¬ä¸€å¹´ç›®æ ‡50äº¿ï¼‰</p>
                                    <p>â€¢ æˆ–æ»¡2å¹´åï¼ˆè¾¾åˆ°70-120äº¿ç›®æ ‡ï¼‰</p>
                                </div>
                            </div>
                        </div>

                        {/* ç»“æœåŒºåŸŸ */}
                        {results && (
                            <>
                                <div className="input-section">
                                    <h2 className="section-title">ğŸ“Š åŸºé‡‘å‡€å€¼åˆ†æ</h2>
                                    <div className="result-row">
                                        <span className="result-label">åˆå§‹æŠ•èµ„</span>
                                        <span className="result-value">{formatCurrency(inputs.investment)} æ¸¯å…ƒ</span>
                                    </div>
                                    <div className="result-row">
                                        <span className="result-label">ç®¡ç†è´¹ï¼ˆ{inputs.investmentYears}å¹´Ã—2%ï¼‰</span>
                                        <span className="result-value negative">-{formatCurrency(results.managementFee)} æ¸¯å…ƒ</span>
                                    </div>
                                    <div className="result-row">
                                        <span className="result-label">å®é™…æŠ•å…¥åŸºé‡‘</span>
                                        <span className="result-value">{formatCurrency(results.netInvestment)} æ¸¯å…ƒ</span>
                                    </div>
                                    <div className="result-row">
                                        <span className="result-label">è®¤è´­ä»½é¢ï¼ˆåˆå§‹å‡€å€¼=1ï¼‰</span>
                                        <span className="result-value">{formatCurrency(results.shares)} ä»½</span>
                                    </div>
                                    <div className="result-row">
                                        <span className="result-label">è‚¡ç¥¨å¢å€¼å€æ•°</span>
                                        <span className="result-value positive">{results.stockMultiple.toFixed(2)}x</span>
                                    </div>
                                    <div className="result-row">
                                        <span className="result-label">é€€å‡ºæ—¶åŸºé‡‘å‡€å€¼</span>
                                        <span className="result-value positive">{results.newNav.toFixed(4)} æ¸¯å…ƒ/ä»½</span>
                                    </div>
                                    <div className="result-row">
                                        <span className="result-label">è´¦æˆ·æ€»ä»·å€¼</span>
                                        <span className="result-value highlight">{formatCurrency(results.accountValue)} æ¸¯å…ƒ</span>
                                    </div>
                                </div>

                                <div className="comparison-section">
                                    <h2 className="section-title">ğŸ’° æ”¶ç›Šå¯¹æ¯”åˆ†æ</h2>
                                    <div className="comparison-grid">
                                        {renderResult(results.noDiscount, 'æƒ…æ™¯Aï¼šæ— æŠ˜è®©é€€å‡º', null)}
                                        {renderResult(results.withDiscount, 'æƒ…æ™¯Bï¼šå¤§å®—è½¬è®©', `${inputs.discount}%æŠ˜è®©`)}
                                    </div>
                                </div>

                                <div className="info-box">
                                    <div className="info-box-title">âš ï¸ é‡è¦æç¤º</div>
                                    <div className="info-box-content">
                                        <p><strong>ç¨æ”¶ç»“æ„è¯´æ˜ï¼š</strong></p>
                                        <p>â€¢ <strong>åŸºé‡‘å±‚é¢ï¼š</strong>OFCäº«å—åˆ©å¾—ç¨è±å…ï¼Œä¸å¾ç¨</p>
                                        <p></p>
                                        <p>â€¢ <strong>æŠ•èµ„è€…å±‚é¢ï¼š</strong></p>
                                        <p>  - ä¸ªäººæŠ•èµ„è€…ï¼šå¯¹å…¨éƒ¨æ”¶ç›Šå¾æ”¶16.5%åˆ©å¾—ç¨</p>
                                        <p>  - å…¬å¸æŠ•èµ„è€…ï¼šé¦–200ä¸‡8.25%ï¼Œè¶…è¿‡éƒ¨åˆ†16.5%</p>
                                        <p></p>
                                        <p>â€¢ å®é™…ç¨è´Ÿè¯·å’¨è¯¢ä¸“ä¸šç¨åŠ¡é¡¾é—®</p>
                                        <p>â€¢ æœ¬è®¡ç®—å™¨ä»…ä¾›å‚è€ƒï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®</p>
                                    </div>
                                </div>
                            </>
                        )}
                    </div>
                </div>
            );
        }

        ReactDOM.render(<FundCalculator />, document.getElementById('root'));
    </script>
</body>
</html>